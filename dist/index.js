!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-json-editor-ajrm",[],t):"object"==typeof exports?exports["react-json-editor-ajrm"]=t(require("react")):e["react-json-editor-ajrm"]=t(e[void 0])}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),a=p(s),c=p(n(3)),l=n(4),u=p(n(5));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!("id"in n.props))throw"An 'id' property must be specified. Must be unique.";return n.updateInternalProps=n.updateInternalProps.bind(n),n.randomString=n.randomString.bind(n),n.createMarkup=n.createMarkup.bind(n),n.onClick=n.onClick.bind(n),n.onBlur=n.onBlur.bind(n),n.update=n.update.bind(n),n.getCursorPosition=n.getCursorPosition.bind(n),n.setCursorPosition=n.setCursorPosition.bind(n),n.scheduledUpdate=n.scheduledUpdate.bind(n),n.setUpdateTime=n.setUpdateTime.bind(n),n.renderLabels=n.renderLabels.bind(n),n.newSpan=n.newSpan.bind(n),n.renderErrorMessage=n.renderErrorMessage.bind(n),n.onScroll=n.onScroll.bind(n),n.showPlaceholder=n.showPlaceholder.bind(n),n.tokenize=n.tokenize.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onPaste=n.onPaste.bind(n),n.stopEvent=n.stopEvent.bind(n),n.uniqueID="AJRM-JSON-EDITOR-"+("test"in n.props?"<RANDOM_NUMBER>":n.randomString(10))+"-"+n.props.id,n.contentID=n.uniqueID+"-content-box",n.updateInternalProps(),n.renderCount=1,n.state={preText:"",markupText:"",plainText:"",json:"",jsObject:void 0,lines:!1,error:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"updateInternalProps",value:function(){var e={},t={},n=c.default.dark_vscode_tribute;"theme"in this.props&&"string"==typeof this.props.theme&&this.props.theme in c.default&&(n=c.default[this.props.theme]),e=n,"colors"in this.props&&(e={default:"default"in this.props.colors?this.props.colors.default:e.default,string:"string"in this.props.colors?this.props.colors.string:e.string,number:"number"in this.props.colors?this.props.colors.number:e.number,colon:"colon"in this.props.colors?this.props.colors.colon:e.colon,keys:"keys"in this.props.colors?this.props.colors.keys:e.keys,keys_whiteSpace:"keys_whiteSpace"in this.props.colors?this.props.colors.keys_whiteSpace:e.keys_whiteSpace,primitive:"primitive"in this.props.colors?this.props.colors.primitive:e.primitive,error:"error"in this.props.colors?this.props.colors.error:e.error,background:"background"in this.props.colors?this.props.colors.background:e.background,background_warning:"background_warning"in this.props.colors?this.props.colors.background_warning:e.background_warning}),this.colors=e,t="style"in this.props?{outerBox:"outerBox"in this.props.style?this.props.style.outerBox:{},container:"container"in this.props.style?this.props.style.container:{},warningBox:"warningBox"in this.props.style?this.props.style.warningBox:{},errorMessage:"errorMessage"in this.props.style?this.props.style.errorMessage:{},body:"body"in this.props.style?this.props.style.body:{},labelColumn:"labelColumn"in this.props.style?this.props.style.labelColumn:{},labels:"labels"in this.props.style?this.props.style.labels:{},contentBox:"contentBox"in this.props.style?this.props.style.contentBox:{}}:{outerBox:{},container:{},warningBox:{},errorMessage:{},body:{},labelColumn:{},labels:{},contentBox:{}},this.style=t,this.confirmGood=!("confirmGood"in this.props)||this.props.confirmGood;var r=this.props.height||"610px",i=this.props.width||"479px";this.totalHeight=r,this.totalWidth=i,"onKeyPressUpdate"in this.props&&!this.props.onKeyPressUpdate?this.timer&&(clearInterval(this.timer),this.timer=!1):this.timer||(this.timer=setInterval(this.scheduledUpdate,100)),this.updateTime=!1,this.waitAfterKeyPress="waitAfterKeyPress"in this.props?this.props.waitAfterKeyPress:1e3}},{key:"render",value:function(){var e=this.state.markupText,t=this.state.error,n=this.uniqueID,r=this.contentID,o=this.colors,s=this.style,c=this.confirmGood,l=this.totalHeight,u=this.totalWidth,p=!!t&&"token"in t;return this.renderCount++,a.default.createElement("div",{name:"outer-box",id:n+"-outer-box",style:i({display:"block",overflow:"none",height:l,width:u,margin:0,boxSizing:"border-box",position:"relative"},s.outerBox)},c?a.default.createElement("div",{style:{opacity:p?0:1,height:"30px",width:"30px",position:"absolute",top:0,right:0,transform:"translate(-25%,25%)",pointerEvents:"none",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"}},a.default.createElement("svg",{height:"30px",width:"30px",viewBox:"0 0 100 100"},a.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"green",opacity:"0.85",d:"M39.363,79L16,55.49l11.347-11.419L39.694,56.49L72.983,23L84,34.085L39.363,79z"}))):void 0,a.default.createElement("div",{name:"container",id:n+"-container",style:i({display:"block",height:l,width:u,margin:0,boxSizing:"border-box",overflow:"hidden",fontFamily:"Roboto, sans-serif"},s.container),onClick:this.onClick},a.default.createElement("div",{name:"warning-box",id:n+"-warning-box",style:i({display:"block",overflow:"hidden",height:p?"60px":"0px",width:"100%",margin:0,backgroundColor:o.background_warning,transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"},s.warningBox),onClick:this.onClick},a.default.createElement("span",{style:{display:"inline-block",height:"60px",width:"60px",margin:0,boxSizing:"border-box",overflow:"hidden",verticalAlign:"top",pointerEvents:"none"},onClick:this.onClick},a.default.createElement("div",{style:{position:"relative",top:0,left:0,height:"60px",width:"60px",margin:0,pointerEvents:"none"},onClick:this.onClick},a.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},onClick:this.onClick},a.default.createElement("svg",{height:"25px",width:"25px",viewBox:"0 0 100 100"},a.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"red",d:"M73.9,5.75c0.467-0.467,1.067-0.7,1.8-0.7c0.7,0,1.283,0.233,1.75,0.7l16.8,16.8  c0.467,0.5,0.7,1.084,0.7,1.75c0,0.733-0.233,1.334-0.7,1.801L70.35,50l23.9,23.95c0.5,0.467,0.75,1.066,0.75,1.8  c0,0.667-0.25,1.25-0.75,1.75l-16.8,16.75c-0.534,0.467-1.117,0.7-1.75,0.7s-1.233-0.233-1.8-0.7L50,70.351L26.1,94.25  c-0.567,0.467-1.167,0.7-1.8,0.7c-0.667,0-1.283-0.233-1.85-0.7L5.75,77.5C5.25,77,5,76.417,5,75.75c0-0.733,0.25-1.333,0.75-1.8  L29.65,50L5.75,26.101C5.25,25.667,5,25.066,5,24.3c0-0.666,0.25-1.25,0.75-1.75l16.8-16.8c0.467-0.467,1.05-0.7,1.75-0.7  c0.733,0,1.333,0.233,1.8,0.7L50,29.65L73.9,5.75z"}))))),a.default.createElement("span",{style:{display:"inline-block",height:"60px",width:"calc(100% - 60px)",margin:0,overflow:"hidden",verticalAlign:"top",position:"absolute",pointerEvents:"none"},onClick:this.onClick},this.renderErrorMessage())),a.default.createElement("div",{name:"body",id:n+"-body",style:i({display:"flex",overflow:"none",height:p?"calc(100% - 60px)":"100%",width:"",margin:0,resize:"none",fontFamily:"Roboto Mono, Monaco, monospace",fontSize:"11px",backgroundColor:o.background,transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0, 1, 0.5, 1)"},s.body),onClick:this.onClick},a.default.createElement("span",{name:"labels",id:n+"-labels",style:i({display:"inline-block",boxSizing:"border-box",verticalAlign:"top",height:"100%",width:"44px",margin:0,padding:"5px 0px 5px 10px",overflow:"hidden",color:"#D4D4D4"},s.labelColumn),onClick:this.onClick},this.renderLabels()),a.default.createElement("span",{id:r,contentEditable:!0,style:i({display:"inline-block",boxSizing:"border-box",verticalAlign:"top",height:"100%",width:"",flex:1,margin:0,padding:"5px",overflowX:"hidden",overflowY:"auto",wordWrap:"break-word",whiteSpace:"pre-line",color:"#D4D4D4",outline:"none"},s.contentBox),dangerouslySetInnerHTML:this.createMarkup(e),onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,onClick:this.onClick,onBlur:this.onBlur,onScroll:this.onScroll,onPaste:this.onPaste,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}))))}},{key:"renderErrorMessage",value:function(){var e=this.props.locale||u.default,t=this.state.error,n=this.style;if(t)return a.default.createElement("p",{style:i({color:"red",fontSize:"12px",position:"absolute",width:"calc(100% - 60px)",height:"60px",boxSizing:"border-box",margin:0,padding:0,paddingRight:"10px",overflowWrap:"break-word",display:"flex",flexDirection:"column",justifyContent:"center"},n.errorMessage)},(0,l.format)(e.format,t))}},{key:"renderLabels",value:function(){for(var e=this.uniqueID+"-line-",t=this.colors,n=this.style,r=this.state.error?this.state.error.line:-1,o=this.state.lines?this.state.lines:1,s=new Array(o),c=0;c<o-1;c++)s[c]=c+1;return s.map(function(o){var s=o!==r?t.default:"red";return a.default.createElement("div",{key:e+o,id:e+o,style:i({},n.labels,{color:s})},o)})}},{key:"createMarkup",value:function(e){return void 0===e?{__html:""}:{__html:""+e}}},{key:"newSpan",value:function(e,t,n){var r=this.uniqueID+"-token-"+e+"-rc-"+this.renderCount,i=this.colors,o=t.type,s=t.string,a="";switch(o){case"string":case"number":case"primitive":case"error":a=i[t.type];break;case"key":a=" "===s?i.keys_whiteSpace:i.keys;break;case"symbol":a=":"===s?i.colon:i.default;break;default:a=i.default}return s.length!==s.replace(/</g,"").replace(/>/g,"").length&&(s="<xmp style=display:inline;>"+s+"</xmp>"),'<span id="'+r+'" key="'+r+'" type="'+o+'" value="'+s+'" depth="'+n+'" style="color:'+a+'">'+s+"</span>"}},{key:"randomString",value:function(e){if("number"!=typeof e)throw"@randomString: Expected 'length' to be a number";for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n}},{key:"getCursorPosition",value:function(){var e=this.contentID;var t=window.getSelection(),n=-1,r=void 0;if(t.focusNode&&function(t){for(;null!==t;){if(t.id===e)return!0;t=t.parentNode}return!1}(t.focusNode))for(r=t.focusNode,n=t.focusOffset;r&&r.id!==e;)if(r.previousSibling)n+=(r=r.previousSibling).textContent.length;else if(null===(r=r.parentNode))break;return n}},{key:"setCursorPosition",value:function(e){if(!([!1,null,void 0].indexOf(e)>-1)){var t=this.contentID;e>0?function(e){if(!(e<0)){var n=window.getSelection(),r=function e(t,n,r){if(r||((r=document.createRange()).selectNode(t),r.setStart(t,0)),0===n.count)r.setEnd(t,n.count);else if(t&&n.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<n.count?n.count-=t.textContent.length:(r.setEnd(t,n.count),n.count=0);else for(var i=0;i<t.childNodes.length&&(r=e(t.childNodes[i],n,r),0!==n.count);i++);return r}(document.getElementById(t),{count:e});r&&(r.collapse(!1),n.removeAllRanges(),n.addRange(r))}}(e):document.getElementById(t).focus()}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getCursorPosition()+e,r=this.contentID,i=document.getElementById(r),o=this.tokenize(i);"onChange"in this.props&&this.props.onChange({plainText:o.indented,markupText:o.markup,json:o.json,jsObject:o.jsObject,lines:o.lines,error:o.error}),this.setState({plainText:o.indented,markupText:o.markup,json:o.json,jsObject:o.jsObject,lines:o.lines,error:o.error}),this.updateTime=!1,t&&this.setCursorPosition(n)}},{key:"scheduledUpdate",value:function(){if(!("onKeyPressUpdate"in this.props&&!1===this.props.onKeyPressUpdate)){var e=this.updateTime;!1!==e&&(e>(new Date).getTime()||this.update())}}},{key:"setUpdateTime",value:function(){"onKeyPressUpdate"in this.props&&!1===this.props.onKeyPressUpdate||(this.updateTime=(new Date).getTime()+this.waitAfterKeyPress)}},{key:"stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"onKeyPress",value:function(e){"viewOnly"in this.props&&this.props.viewOnly&&this.stopEvent(e),this.setUpdateTime()}},{key:"onKeyDown",value:function(e){switch("viewOnly"in this.props&&this.props.viewOnly&&this.stopEvent(e),e.key){case"Backspace":case"Delete":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return void this.setUpdateTime()}}},{key:"onPaste",value:function(e){"viewOnly"in this.props&&this.props.viewOnly&&this.stopEvent(e),this.update()}},{key:"onClick",value:function(){"viewOnly"in this.props&&this.props.viewOnly}},{key:"onBlur",value:function(){"viewOnly"in this.props&&this.props.viewOnly||this.update(0,!1)}},{key:"onScroll",value:function(e){var t=this.uniqueID;document.getElementById(t+"-labels").scrollTop=e.target.scrollTop}},{key:"componentDidUpdate",value:function(){this.updateInternalProps(),this.showPlaceholder()}},{key:"componentDidMount",value:function(){var e=this.contentID;document.getElementById(e).addEventListener("paste",function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}),this.showPlaceholder()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"showPlaceholder",value:function(){var e=this.state.preText;if("placeholder"in this.props){var t=this.props.placeholder;if(!([e,void 0,null].indexOf(t)>-1)&&"object"===(void 0===t?"undefined":r(t))){var n=this.tokenize(t);this.setState({preText:t,plainText:n.indentation,markupText:n.markup,lines:n.lines,error:n.error})}}}},{key:"tokenize",value:function(e){if("object"!==(void 0===e?"undefined":r(e)))return console.error("tokenize() expects object type properties only. Got '"+(void 0===e?"undefined":r(e))+"' type instead.");var t,n,i=this.props.locale||u.default,o=this.newSpan;if("nodeType"in e){var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={active:!1,string:"",number:"",symbol:"",space:"",delimiter:"",quarks:[]};function r(e,r){switch(r){case"symbol":case"delimiter":n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e;break;default:r!==n.active||[n.string,e].indexOf("\n")>-1?(n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e):n[r]+=e}}for(var i=0;i<e.length;i++){var o=e.charAt(i);switch(o){case'"':case"'":r(o,"delimiter");break;case" ":case" ":r(o,"space");break;case"{":case"}":case"[":case"]":case":":case",":r(o,"symbol");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":"string"===n.active?r(o,"string"):r(o,"number");break;case"-":if(i<e.length-1&&"0123456789".indexOf(e.charAt(i+1))>-1){r(o,"number");break}case".":if(i<e.length-1&&i>0&&"0123456789".indexOf(e.charAt(i+1))>-1&&"0123456789".indexOf(e.charAt(i-1))>-1){r(o,"number");break}default:r(o,"string")}}return n.active&&(n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=!1),n.quarks},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_={token:e,line:T,reason:t},h.tokens_merge[e+n].type="error"},c=function(e,t){if(void 0===e&&console.error("tokenID argument must be an integer."),void 0===t&&console.error("options argument must be an array."),e===h.tokens_merge.length-1)return!1;for(var n=e+1;n<h.tokens_merge.length;n++){var r=h.tokens_merge[n];switch(r.type){case"space":case"linebreak":break;case"symbol":case"colon":return t.indexOf(r.string)>-1&&n;default:return!1}}return!1},p=function(e,t){if(void 0===e&&console.error("tokenID argument must be an integer."),void 0===t&&console.error("options argument must be an array."),0===e)return!1;for(var n=e-1;n>=0;n--){var r=h.tokens_merge[n];switch(r.type){case"space":case"linebreak":break;case"symbol":case"colon":return t.indexOf(r.string)>-1;default:return!1}}return!1},d=function(e){if(void 0===e&&console.error("tokenID argument must be an integer."),0===e)return!1;for(var t=e-1;t>=0;t--){var n=h.tokens_merge[t];switch(n.type){case"space":case"linebreak":break;default:return n.type}}return!1},f=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return te++,ne>0||e?"<br>":""}(arguments.length>0&&void 0!==arguments[0]&&arguments[0])+function(){for(var e=[],t=0;t<2*ne;t++)e.push("&nbsp;");return e.join("")}()},k=e.cloneNode(!0);if(!k.hasChildNodes())return"";var h={tokens_unknown:[],tokens_proto:[],tokens_split:[],tokens_fallback:[],tokens_normalize:[],tokens_merge:[],tokens_plainText:"",indented:"",json:"",jsObject:void 0,markup:""};k.childNodes.forEach(function(e,t){var n={};switch(e.nodeName){case"SPAN":n={string:e.textContent,type:e.attributes.type.textContent},h.tokens_unknown.push(n);break;case"DIV":h.tokens_unknown.push({string:e.textContent,type:"unknown"});break;case"BR":""===e.textContent&&h.tokens_unknown.push({string:"\n",type:"unknown"});break;case"#text":h.tokens_unknown.push({string:e.wholeText,type:"unknown"});break;case"FONT":h.tokens_unknown.push({string:e.textContent,type:"unknown"});break;default:console.error("Unrecognized node:",{child:e})}}),h.tokens_unknown.forEach(function(e,t){h.tokens_proto=h.tokens_proto.concat(s(e.string,"proto"))}),h.tokens_proto.forEach(function(e,t){-1===e.type.indexOf("proto")&&!function(e,t){var n="",r="",i=!1;switch(t){case"primitive":if(-1===["true","false","null","undefined"].indexOf(e))return!1;break;case"string":if(e.length<2)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),-1===(i="'\"".indexOf(n)))return!1;if(n!==r)return!1;for(var o=0;o<e.length;o++)if(o>0&&o<e.length-1&&e.charAt(o)==="'\""[i]&&"\\"!==e.charAt(o-1))return!1;break;case"key":if(0===e.length)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),(i="'\"".indexOf(n))>-1){if(1===e.length)return!1;if(n!==r)return!1;for(o=0;o<e.length;o++)if(o>0&&o<e.length-1&&e.charAt(o)==="'\""[i]&&"\\"!==e.charAt(o-1))return!1}else for(o=0;o<"'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".length;o++){var s="'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".charAt(o);if(e.indexOf(s)>-1)return!1}break;case"number":for(o=0;o<e.length;o++)if(-1==="0123456789".indexOf(e.charAt(o)))if(0===o){if("-"!==e.charAt(0))return!1}else if("."!==e.charAt(o))return!1;break;case"symbol":if(e.length>1)return!1;if(-1==="{[:]},".indexOf(e))return!1;break;case"colon":if(e.length>1)return!1;if(":"!==e)return!1;break;default:return!0}return!0}(e.string,e.type)?h.tokens_split=h.tokens_split.concat(s(e.string,"split")):h.tokens_split.push(e)}),h.tokens_split.forEach(function(e){var t=e.type,n=e.string,r=n.length,i=[];t.indexOf("-")>-1&&("string"!==(t=t.slice(t.indexOf("-")+1))&&i.push("string"),i.push("key"),i.push("error"));var o={string:n,length:r,type:t,fallback:i};h.tokens_fallback.push(o)});var g={brackets:[],stringOpen:!1,isValue:!1};h.tokens_fallback.forEach(function(e,t){var n=e.type,r=e.string,i={type:n,string:r};switch(n){case"symbol":case"colon":if(g.stringOpen){g.isValue?i.type="string":i.type="key";break}switch(r){case"[":case"{":g.brackets.push(r),g.isValue="["===g.brackets[g.brackets.length-1];break;case"]":case"}":g.brackets.pop(),g.isValue="["===g.brackets[g.brackets.length-1];break;case",":if("colon"===function(){var e=h.tokens_normalize.length-1;if(e<1)return!1;for(var t=e;t>=0;t--){var n=h.tokens_normalize[t];switch(n.type){case"space":case"linebreak":break;default:return n}}return!1}().type)break;g.isValue="["===g.brackets[g.brackets.length-1];break;case":":i.type="colon",g.isValue=!0}break;case"delimiter":if(g.isValue?i.type="string":i.type="key",!g.stringOpen){g.stringOpen=r;break}if(t>0){var o=h.tokens_fallback[t-1],s=o.string,a=o.type,c=s.charAt(s.length-1);if("string"===a&&"\\"===c)break}if(g.stringOpen===r){g.stringOpen=!1;break}break;case"primitive":case"string":if(["false","true","null","undefined"].indexOf(r)>-1){var l=h.tokens_normalize.length-1;if(l>=0){if("string"!==h.tokens_normalize[l].type){i.type="primitive";break}i.type="string";break}i.type="primitive";break}if("\n"===r&&!g.stringOpen){i.type="linebreak";break}g.isValue?i.type="string":i.type="key";break;case"space":case"number":g.stringOpen&&(g.isValue?i.type="string":i.type="key")}h.tokens_normalize.push(i)});for(var b=0;b<h.tokens_normalize.length;b++){var y=h.tokens_normalize[b],m={string:y.string,type:y.type,tokens:[b]};if(-1===["symbol","colon"].indexOf(y.type)&&b+1<h.tokens_normalize.length){for(var v=0,x=b+1;x<h.tokens_normalize.length;x++){var w=h.tokens_normalize[x];if(y.type!==w.type)break;m.string+=w.string,m.tokens.push(x),v++}b+=v}h.tokens_merge.push(m)}var O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$",_=!1,T=h.tokens_merge.length>0?1:0;g={brackets:[],stringOpen:!1,isValue:!1};var C=[];for(b=0;b<h.tokens_merge.length&&!_;b++){var E=h.tokens_merge[b],j=E.string,S=E.type,A=!1;switch(S){case"space":break;case"linebreak":T++;break;case"symbol":switch(j){case"{":case"[":if(A=p(b,["}","]"])){a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:h.tokens_merge[A].string,secondToken:j}));break}if("["===j&&b>0&&!p(b,[":","[",","])){a(b,(0,l.format)(i.invalidToken.whitelist,{firstToken:"[",secondToken:[":","[",","]}));break}if("{"===j&&p(b,["{"])){a(b,(0,l.format)(i.invalidToken.double,{token:"{"}));break}g.brackets.push(j),g.isValue="["===g.brackets[g.brackets.length-1],C.push({i:b,line:T,string:j});break;case"}":case"]":if("}"===j&&"{"!==g.brackets[g.brackets.length-1]){a(b,(0,l.format)(i.brace.curly.missingOpen));break}if("}"===j&&p(b,[","])){a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:",",secondToken:"}"}));break}if("]"===j&&"["!==g.brackets[g.brackets.length-1]){a(b,(0,l.format)(i.brace.square.missingOpen));break}if("]"===j&&p(b,[":"])){a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:":",secondToken:"]"}));break}g.brackets.pop(),g.isValue="["===g.brackets[g.brackets.length-1],C.push({i:b,line:T,string:j});break;case",":if(A=p(b,["{"])){if(c(b,["}"])){a(b,(0,l.format)(i.brace.curly.cannotWrap,{token:","}));break}a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:"{",secondToken:","}));break}if(c(b,["}",",","]"])){a(b,(0,l.format)(i.noTrailingOrLeadingComma));break}switch(A=d(b)){case"key":case"colon":a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:A,secondToken:","}));break;case"symbol":if(p(b,["{"])){a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:"{",secondToken:","}));break}}g.isValue="["===g.brackets[g.brackets.length-1]}h.json+=j;break;case"colon":if((A=p(b,["["]))&&c(b,["]"])){a(b,(0,l.format)(i.brace.square.cannotWrap,{token:":"}));break}if(A){a(b,(0,l.format)(i.invalidToken.sequence,{firstToken:"[",secondToken:":"}));break}if("key"!==d(b)){a(b,(0,l.format)(i.invalidToken.whitelist,{firstToken:":",secondToken:"key"}));break}g.isValue=!0,h.json+=j;break;case"key":case"string":var D=j.charAt(0),P=j.charAt(j.length-1);"'\"".indexOf(D);if(-1==="'\"".indexOf(D)&&-1!=="'\"".indexOf(P)){a(b,(0,l.format)(i.string.missingOpen,{quote:D}));break}if(-1==="'\"".indexOf(P)&&-1!=="'\"".indexOf(D)){a(b,(0,l.format)(i.string.missingClose,{quote:D}));break}if("'\"".indexOf(D)>-1&&D!==P){a(b,(0,l.format)(i.string.missingClose,{quote:D}));break}if("string"===S&&-1==="'\"".indexOf(D)&&-1==="'\"".indexOf(P)){a(b,(0,l.format)(i.string.mustBeWrappedByQuotes));break}if("key"===S&&-1==="'\"".indexOf(D)&&-1==="'\"".indexOf(P))for(var B=0;B<j.length&&!_;B++){var M=j.charAt(B);if(-1===O.indexOf(M)){a(b,(0,l.format)(i.string.nonAlphanumeric,{token:M}));break}}if("'"===D?j='"'+j.slice(1,-1)+'"':'"'!==D&&(j='"'+j+'"'),"key"===S&&"key"===d(b)){if(b>0&&!isNaN(h.tokens_merge[b-1])){h.tokens_merge[b-1]+=h.tokens_merge[b],a(b,(0,l.format)(i.key.numberAndLetterMissingQuotes));break}a(b,(0,l.format)(i.key.spaceMissingQuotes));break}if("key"===S&&!p(b,["{",","])){a(b,(0,l.format)(i.invalidToken.whitelist,{firstToken:S,secondToken:["{",","]}));break}if("string"===S&&!p(b,["[",":",","])){a(b,(0,l.format)(i.invalidToken.whitelist,{firstToken:S,secondToken:["[",":",","]}));break}if("key"===S&&g.isValue){a(b,(0,l.format)(i.string.unexpectedKey));break}if("string"===S&&!g.isValue){a(b,(0,l.format)(i.key.unexpectedString));break}h.json+=j;break;case"number":case"primitive":if(p(b,["{"]))h.tokens_merge[b].type="key",S=h.tokens_merge[b].type,j='"'+j+'"';else if("key"===d(b))h.tokens_merge[b].type="key",S=h.tokens_merge[b].type;else if(!p(b,["[",":",","])){a(b,(0,l.format)(i.invalidToken.whitelist,{firstToken:S,secondToken:["[",":",","]}));break}if("key"!==S&&!g.isValue){h.tokens_merge[b].type="key",S=h.tokens_merge[b].type;break}"primitive"===S&&"undefined"===j&&a(b,(0,l.format)(i.invalidToken.useInstead,{badToken:"undefined",goodToken:"null"})),h.json+=j}}var q="";for(b=0;b<h.json.length;b++){var I=h.json.charAt(b),z="";b+1<h.json.length&&(z=h.json.charAt(b+1),"\\"===I&&"'"===z)?(q+=z,b++):q+=I}if(h.json=q,!_){for(var N=Math.ceil(C.length/2),V=0,L=!1;C.length>0;){L=!1;for(var K=0;K<C.length-1;K++){var U=C[K].string+C[K+1].string;["[]","{}"].indexOf(U)>-1&&(n=K,C.splice(n+1,1),C.splice(n,1),L||(L=!0))}if(V++,!L)break;if(V>=N)break}if(C.length>0){var F=C[0].string,R=C[0].i,W="["===F?"]":"}";T=C[0].line,a(R,(0,l.format)(i.brace["]"===W?"square":"curly"].missingClose))}}if(!_&&-1===[void 0,""].indexOf(h.json))try{h.jsObject=JSON.parse(h.json)}catch(e){var Q=e.message,G=Q.indexOf("position");if(-1===G)throw new Error("Error parsing failed");for(var J=Q.substring(G+9,Q.length),H=parseInt(J),X=0,Y=0,Z=!1,$=1,ee=!1;X<H&&!ee&&("linebreak"===(Z=h.tokens_merge[Y]).type&&$++,-1===["space","linebreak"].indexOf(Z.type)&&(X+=Z.string.length),!(X>=H));)Y++,h.tokens_merge[Y+1]||(ee=!0);T=$,a(Y,(0,l.format)(i.invalidToken.unexpected,{token:Z.string}))}var te=1,ne=0;if(!_)for(b=0;b<h.tokens_merge.length;b++){var re=h.tokens_merge[b],ie=re.string;switch(re.type){case"space":case"linebreak":break;case"string":case"number":case"primitive":case"error":h.markup+=(p(b,[",","["])?f():"")+o(b,re,ne);break;case"key":h.markup+=f()+o(b,re,ne);break;case"colon":h.markup+=o(b,re,ne)+"&nbsp;";break;case"symbol":switch(ie){case"[":case"{":h.markup+=(p(b,[":"])?"":f())+o(b,re,ne),ne++;break;case"]":case"}":ne--;var oe=b===h.tokens_merge.length-1,se=b>0?["[","{"].indexOf(h.tokens_merge[b-1].string)>-1?"":f(oe):"";h.markup+=se+o(b,re,ne);break;case",":h.markup+=o(b,re,ne)}}}if(_){var ae=function(e){for(var t=0,n=0;n<e.length;n++)["\n","\r"].indexOf(e[n])>-1&&t++;return t},ce=1;te=1;for(b=0;b<h.tokens_merge.length;b++){var le=h.tokens_merge[b],ue=le.type,pe=le.string;"linebreak"===ue&&te++,h.markup+=o(b,le,ne),ce+=ae(pe)}++te<++ce&&(te=ce)}if(h.tokens_merge.forEach(function(e){h.indented+=e.string}),_){"modifyErrorText"in this.props&&((t=this.props.modifyErrorText)&&"[object Function]"==={}.toString.call(t)&&(_.reason=this.props.modifyErrorText(_.reason)))}return{tokens:h.tokens_merge,noSpaces:h.tokens_plainText,indented:h.indented,json:h.json,jsObject:h.jsObject,markup:h.markup,lines:te,error:_}}if(!("nodeType"in e)){var de=function(e,t){return e.slice(0,t)+e.slice(t+1)},fe=function(){if(-1==="'\"".indexOf(me.currentChar))return!1;if(!me.stringOpen)return he(),me.stringStart=me.position,me.stringOpen=me.currentChar,!0;if(me.stringOpen===me.currentChar){he();var e=me.inputText.substring(me.stringStart,me.position+1);return ge(e),me.stringOpen=!1,!0}return!1},ke=function(){if(-1===":,{}[]".indexOf(me.currentChar))return!1;if(me.stringOpen)return!1;switch(he(),ge(me.currentChar),me.currentChar){case":":return me.isValue=!0,!0;case"{":case"[":me.brackets.push(me.currentChar);break;case"}":case"]":me.brackets.pop()}return":"!==me.currentChar&&(me.isValue="["===me.brackets[me.brackets.length-1]),!0},he=function(){return 0!==me.tokenSecondary.length&&(me.tokens.push(me.tokenSecondary),me.tokenSecondary="",!0)},ge=function(e){return 0!==e.length&&(me.tokens.push(e),!0)},be=function(e){for(var t=[],n=0;n<2*e;n++)t.push(" ");return(e>0?"\n":"")+t.join("")},ye=function(e){var t=[];e>0&&Ce++;for(var n=0;n<2*e;n++)t.push("&nbsp;");return(e>0?"<br>":"")+t.join("")},me={inputText:JSON.stringify(e),position:0,currentChar:"",tokenPrimary:"",tokenSecondary:"",brackets:[],isValue:!1,stringOpen:!1,stringStart:0,tokens:[]};for(b=0;b<me.inputText.length;b++){me.position=b,me.currentChar=me.inputText.charAt(me.position);var ve=ke(),xe=fe(),we="\\"===me.currentChar&&(me.inputText=de(me.inputText,me.position),!0);ve||xe||we||me.stringOpen||(me.tokenSecondary+=me.currentChar)}var Oe={brackets:[],isValue:!1,tokens:[]};Oe.tokens=me.tokens.map(function(e){var t="",n="",r="";switch(e){case",":t="symbol",n=e,r=e,Oe.isValue="["===Oe.brackets[Oe.brackets.length-1];break;case":":t="symbol",n=e,r=e,Oe.isValue=!0;break;case"{":case"[":t="symbol",n=e,r=e,Oe.brackets.push(e),Oe.isValue="["===Oe.brackets[Oe.brackets.length-1];break;case"}":case"]":t="symbol",n=e,r=e,Oe.brackets.pop(),Oe.isValue="["===Oe.brackets[Oe.brackets.length-1];break;case"undefined":t="primitive",n=e,r=void 0;break;case"null":t="primitive",n=e,r=null;break;case"false":t="primitive",n=e,r=!1;break;case"true":t="primitive",n=e,r=!0;break;default:var i=e.charAt(0);if("'\"".indexOf(i)>-1){"key"===(t=Oe.isValue?"string":"key")&&(n=function(e){if(0===e.length)return e;if(['""',"''"].indexOf(e)>-1)return"''";for(var t=!1,n=0;n<2;n++)if([e.charAt(0),e.charAt(e.length-1)].indexOf(['"',"'"][n])>-1){t=!0;break}t&&e.length>=2&&(e=e.slice(1,-1));var r=e.replace(/\w/g,""),i=(e.replace(/\W+/g,""),function(e,t){for(var n=!1,r=0;r<t.length&&(0!==r||!isNaN(t.charAt(r)));r++)if(isNaN(t.charAt(r))){n=!0;break}return!(e.length>0||n)}(r,e));if(function(e){for(var t=0;t<e.length;t++)if(["'",'"'].indexOf(e.charAt(t))>-1)return!0;return!1}(r)){var o="";e.split("").forEach(function(e){["'",'"'].indexOf(e)>-1&&(e="\\"+e),o+=e}),e=o}return i?e:"'"+e+"'"}(e)),"string"===t&&(n="",e.slice(1,-1).split("").forEach(function(e){"'\"".indexOf(e)>-1&&(e="\\"+e),n+=e}),n="'"+n+"'"),r=n;break}if(!isNaN(e)){t="number",n=e,r=Number(e);break}if(e.length>0&&!Oe.isValue){t="key",(n=e).indexOf(" ")>-1&&(n="'"+n+"'"),r=n;break}}return{type:t,string:n,value:r,depth:Oe.brackets.length}});var _e="";Oe.tokens.forEach(function(e){_e+=e.string});var Te="";Oe.tokens.forEach(function(e,t){switch(e.string){case"[":case"{":var n=t<Oe.tokens.length-1-1?Oe.tokens[t+1]:"";-1==="}]".indexOf(n.string)?Te+=e.string+be(e.depth):Te+=e.string;break;case"]":case"}":var r=t>0?Oe.tokens[t-1]:"";-1==="[{".indexOf(r.string)?Te+=be(e.depth)+e.string:Te+=e.string;break;case":":Te+=e.string+" ";break;case",":Te+=e.string+be(e.depth);break;default:Te+=e.string}});var Ce=1,Ee="",je=Oe.tokens.length-1;return Oe.tokens.forEach(function(e,t){var n=o(t,e,e.depth);switch(e.string){case"{":case"[":var r=t<Oe.tokens.length-1-1?Oe.tokens[t+1]:"";-1==="}]".indexOf(r.string)?Ee+=n+ye(e.depth):Ee+=n;break;case"}":case"]":var i=t>0?Oe.tokens[t-1]:"";-1==="[{".indexOf(i.string)?Ee+=ye(e.depth)+(je===t?"<br>":"")+n:Ee+=n;break;case":":Ee+=n+" ";break;case",":Ee+=n+ye(e.depth);break;default:Ee+=n}}),Ce+=2,{tokens:Oe.tokens,noSpaces:_e,indented:Te,json:JSON.stringify(e),jsObject:e,markup:Ee,lines:Ce}}}}]),t}();e.exports=d},function(t,n){t.exports=e},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={dark_vscode_tribute:{default:"#D4D4D4",background:"#1E1E1E",background_warning:"#1E1E1E",string:"#CE8453",number:"#B5CE9F",colon:"#49B8F7",keys:"#9CDCFE",keys_whiteSpace:"#AF74A5",primitive:"#6392C6"},light_mitsuketa_tribute:{default:"#D4D4D4",background:"#FCFDFD",background_warning:"#FEECEB",string:"#FA7921",number:"#70CE35",colon:"#49B8F7",keys:"#59A5D8",keys_whiteSpace:"#835FB6",primitive:"#386FA4"}};t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.format=function(e,t){return t?Object.keys(t).reduce(function(e,n){return e.replace(new RegExp("\\{"+n+"\\}","gi"),function(e){return Array.isArray(e)?e.join(", "):"string"==typeof e?e:""+e}(t[n]))},e):e}},function(e,t){e.exports={format:"{reason} at line {line}",invalidToken:{sequence:"'{firstToken}' token cannot be followed by a '{secondToken}' token",double:"'{token}' token cannot be followed by another '{token}' token",whitelist:"'{firstToken}' token can only follow '{secondToken}' token",useInstead:"'{badToken}' token is not accepted. Use '{goodToken}' instead",unexpected:"Unexpected '{token}' token found"},brace:{curly:{missingOpen:"Missing '{' open curly brace",missingClose:"Open '{' curly brace is missing closing '}' curly brace",cannotWrap:"'{token}' token cannot be wrapped in '{}' curly braces"},square:{missingOpen:"Missing '[' open square brace",missingClose:"Open '[' square brace is missing closing ']' square brace",cannotWrap:"'{token}' token cannot be wrapped in '[]' square braces"}},string:{missingOpen:"Missing/invalid opening string '{quote}' token",missingClose:"Missing/invalid closing string '{quote}' token",mustBeWrappedByQuotes:"Strings must be wrapped by quotes",nonAlphanumeric:"Non-alphanemeric token '{token}' is not allowed outside string notation",unexpectedKey:"Unexpected key found at string position"},key:{numberAndLetterMissingQuotes:"Key beginning with number and containing letters must be wrapped by quotes",spaceMissingQuotes:"Key containing space must be wrapped by quotes",unexpectedString:"Unexpected string found at key position"},noTrailingOrLeadingComma:"Trailing or leading commas in arrays and objects are not permitted"}}])});